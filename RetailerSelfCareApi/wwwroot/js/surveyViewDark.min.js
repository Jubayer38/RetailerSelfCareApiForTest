/*
 * minified by https://jscompress.com/
*/
"use strict"; (function (a) { a(function () { function b() { if (0 < H.length) { for (var b, e = 0; e < H.length; e++)switch (b = H[e], c(b), b.input_type) { case "text": t(b), d(b.id, "quesOptions", ""); continue; case "paragraph": u(b), d(b.id, "quesOptions", ""); continue; case "checkbox-single-select": v(b), d(b.id, "quesOptions", b.optionsStr); continue; case "checkbox-multiple-select": w(b), d(b.id, "quesOptions", b.optionsStr); continue; case "radio": x(b), d(b.id, "quesOptions", b.optionsStr); continue; case "date-time": y(b), d(b.id, "quesOptions", ""); continue; case "dropdown": z(b), d(b.id, "quesOptions", b.optionsStr); continue; case "linear-scale": A(b), d(b.id, "quesOptions", b.linearScale); continue; case "multiple-choice-grid": B(b), d(b.id, "quesOptions", b.rowStr + "|" + b.columnStr); continue; case "checkbox-grid": C(b), d(b.id, "quesOptions", b.rowStr + "|" + b.columnStr); continue; }a("#surveyBody").append("<div class=\"card mb-2 text-right\" style=\"background-color: #231F20 !important;\"><div class=\"mt-4 mb-4 lrPad\" style=\"text-align: right;\"><button type=\"button\" id=\"submitSurvey\" class=\"btn btn-primary\" style=\"background: #F36F21;\">Submit</button></div></div>") } } function c(a) { if (!K.has(a.id)) { let b = { isRequired: a.isRequired, quesOrder: a.quesOrder, ques_descrip: a.ques_descrip, surveyId: E, questionType: a.input_type, questionId: a.id, quesOptions: "", answer: "", file: null, fileMimeType: "" }; K.set(a.id, b), ("multiple-choice-grid" == a.input_type || "checkbox-grid" == a.input_type) && a.rows.forEach(function (b) { let c = a.id + b.name; L.has(c) || L.set(c, { QuestionId: a.id, QuestionRow: b.name, QnRowAnswer: "" }) }) } } function d(a, b, c) { var d = K.get(a); d[b] = c, K.set(a, d) } function e(a, b) { var c = L.get(a); c.QnRowAnswer = b, L.set(a, c) } function f(a) { let b = []; for (let [c, d] of L) c.startsWith(a) && b.push(d); return b } function g(a) { return "undefined" == typeof a ? "" : a } function h(a) { return "undefined" == typeof a ? "" : a + ", " } function i(b) { var c = !0, e = a("#" + b.questionId + "> div:eq(1)  > input").val(); if (!b.isRequired) d(b.questionId, "answer", e), J = !0; else if (e) { var f = e.trim(); f ? (a("#" + b.questionId).removeClass("notValid"), a("#" + b.questionId + "_error").addClass("hideError"), d(b.questionId, "answer", f), J = !0) : (a("#" + b.questionId).addClass("notValid"), a("#" + b.questionId + "_error").removeClass("hideError"), c = !1, J = !1, toastr.warning("Please insert Question " + b.quesOrder + ".", "WARNING!!")) } else a("#" + b.questionId).addClass("notValid"), a("#" + b.questionId + "_error").removeClass("hideError"), c = !1, J = !1, toastr.warning("Please insert Question " + b.quesOrder + ".", "WARNING!!"); return c } function j(b) { var c = !0, e = a("#" + b.questionId + "> div:eq(1)  > textarea").val(); if (!b.isRequired) d(b.questionId, "answer", e), J = !0; else if (e) { var f = e.trim(); f ? (a("#" + b.questionId).removeClass("notValid"), a("#" + b.questionId + "_error").addClass("hideError"), d(b.questionId, "answer", f), J = !0) : (a("#" + b.questionId).addClass("notValid"), a("#" + b.questionId + "_error").removeClass("hideError"), c = !1, J = !1, toastr.warning("Please insert Question " + b.quesOrder + ".", "WARNING!!")) } else a("#" + b.questionId).addClass("notValid"), a("#" + b.questionId + "_error").removeClass("hideError"), c = !1, J = !1, toastr.warning("Please insert Question " + b.quesOrder + ".", "WARNING!!"); return c } function k(b) { var c = !0, e = ""; return a("#" + b.questionId + " > div > input").each(function () { a(this).is(":checked") && (e = a(this).val()) }), b.isRequired ? e ? (a("#" + b.questionId).removeClass("notValid"), a("#" + b.questionId + "_error").addClass("hideError"), d(b.questionId, "answer", e), J = !0) : (a("#" + b.questionId).addClass("notValid"), a("#" + b.questionId + "_error").removeClass("hideError"), c = !1, J = !1, toastr.warning("Please select from Question " + b.quesOrder + ".", "WARNING!!")) : (d(b.questionId, "answer", e), J = !0), c } function l(b) { var c = !0, e = ""; return a("#" + b.questionId + " > div > input").each(function () { a(this).is(":checked") && (e += a(this).val() + ", ") }), e = e.slice(0, e.length - 2), b.isRequired ? e ? (a("#" + b.questionId).removeClass("notValid"), a("#" + b.questionId + "_error").addClass("hideError"), d(b.questionId, "answer", e), J = !0) : (a("#" + b.questionId).addClass("notValid"), a("#" + b.questionId + "_error").removeClass("hideError"), c = !1, J = !1, toastr.warning("Please select from Question " + b.quesOrder + ".", "WARNING!!")) : (d(b.questionId, "answer", e), J = !0), c } function m(b) { var c = !0, e = ""; return a("#" + b.questionId + "> div > input").each(function () { e = a("input[name=\"" + b.questionId + "\"]:checked").val() }), b.isRequired ? e ? (a("#" + b.questionId).removeClass("notValid"), a("#" + b.questionId + "_error").addClass("hideError"), d(b.questionId, "answer", e), J = !0) : (a("#" + b.questionId).addClass("notValid"), a("#" + b.questionId + "_error").removeClass("hideError"), c = !1, J = !1, toastr.warning("Please select from Question " + b.quesOrder + ".", "WARNING!!")) : (d(b.questionId, "answer", g(e)), J = !0), c } function n(b) { var c = !0, e = "", f = "#" + b.questionId + "date", g = "#" + b.questionId + "time"; if (e = a(f).datepicker({ dateFormat: "dd,MM,yyyy" }).val(), e += " " + a(g).val(), b.isRequired) { var h = e.trim(); h ? (a("#" + b.questionId).removeClass("notValid"), a("#" + b.questionId + "_error").addClass("hideError"), d(b.questionId, "answer", h), J = !0) : (a("#" + b.questionId).addClass("notValid"), a("#" + b.questionId + "_error").removeClass("hideError"), c = !1, J = !1, toastr.warning("Please select Date-Time in Question " + b.quesOrder + ".", "WARNING!!")) } else d(b.questionId, "answer", e), J = !0; return c } function o(b) { var c = !0, e = a("#" + b.questionId + "file")[0].files[0]; if (e && 0 != e.size && 0 != e.error) { var f = a("#" + b.questionId + "fileStr").val(); let c = f.match(/[^:]\w+\/[\w-+\d.]+(?=;|,)/)[0]; d(b.questionId, "file", f), d(b.questionId, "fileMimeType", c), J = !0 } return b.isRequired && !e && (a("#" + fileDivid).addClass("notValid"), a("#" + fileDivid + "_error").removeClass("hideError"), c = !1, J = !1, toastr.warning("Please upload file in Question " + b.quesOrder + ".", "WARNING!!")), c } function p(b) { var c = !0, e = "", f = "ques" + b.questionId.toString(); return e = a("#" + f).val(), b.isRequired ? e ? (a("#" + b.questionId).removeClass("notValid"), a("#" + b.questionId + "_error").addClass("hideError"), d(b.questionId, "answer", e), J = !0) : (a("#" + b.questionId).addClass("notValid"), a("#" + b.questionId + "_error").removeClass("hideError"), c = !1, J = !1, toastr.warning("Please select option from Question " + b.quesOrder + ".", "WARNING!!")) : (d(b.questionId, "answer", e), J = !0), c } function q(b) { var c = !0, e = ""; if (a("#" + b.questionId + "> div > table > tbody > tr").each(function () { e = a("input[name=\"" + b.questionId + "\"]:checked").val() }), !b.isRequired) d(b.questionId, "answer", g(e)), J = !0; else if (e) { var f = e.trim(); f ? (a("#" + b.questionId).removeClass("notValid"), a("#" + b.questionId + "_error").addClass("hideError"), d(b.questionId, "answer", f), J = !0) : (a("#" + b.questionId).addClass("notValid"), a("#" + b.questionId + "_error").removeClass("hideError"), c = !1, J = !1, toastr.warning("Please select linear scale from Question " + b.quesOrder + ".", "WARNING!!")) } else a("#" + b.questionId).addClass("notValid"), a("#" + b.questionId + "_error").removeClass("hideError"), c = !1, J = !1, toastr.warning("Please select linear scale from Question " + b.quesOrder + ".", "WARNING!!"); return c } function r(b) { var c = !0, f = "", h = [], j = 0; if (a("#" + b.questionId + "> div > table > tbody > tr.optionRow").each(function () { var c = [], d = a(this).attr("data-row-name"); c.push(d); var i = a("input[name=\"" + d + "\"]:checked").val(); "undefined" != typeof i && (j += 1), c.push(i), h.push(c); let k = g(i); f += d + ": " + k + ", ", e(b.questionId + d, k) }), f = f.slice(0, f.length - 2), b.isRequired) { if (h.length != j) { for (var k, l = 0; l < h.length; l++)k = h[l][0].split(" ")[0], "undefined" == typeof h[l][1] ? (a("#" + b.questionId + k).addClass("notValid"), a("#" + b.questionId + "_error").removeClass("hideError"), c = !1, J = !1) : (a("#" + b.questionId + k).removeClass("notValid"), a("#" + b.questionId + "_error").addClass("hideError")); c || toastr.warning("Please select from Question " + b.quesOrder + ".", "WARNING!!") } else { for (var k, l = 0; l < h.length; l++)k = h[l][0].split(" ")[0], a("#" + b.questionId + k).removeClass("notValid"), a("#" + b.questionId + "_error").addClass("hideError"); d(b.questionId, "answer", f), J = !0 } } else if (0 == j) { for (var k, l = 0; l < h.length; l++)k = h[l][0].split(" ")[0], a("#" + b.questionId + k).removeClass("notValid"), a("#" + b.questionId + "_error").addClass("hideError"); d(b.questionId, "answer", f), J = !0 } else if (h.length !== j) { for (var l = 0; l < h.length; l++)if ("undefined" == typeof h[l][1]) { var k = h[l][0].split(" ")[0]; a("#" + b.questionId + k).addClass("notValid"), a("#" + b.questionId + "_error").removeClass("hideError"), c = !1, J = !1 } c || toastr.warning("Please select from Question " + b.quesOrder + ".", "WARNING!!") } else { for (var k, l = 0; l < h.length; l++)k = h[l][0].split(" ")[0], a("#" + b.questionId + k).removeClass("notValid"), a("#" + b.questionId + "_error").addClass("hideError"); d(b.questionId, "answer", f), J = !0 } return c } function s(b) { var c = !0, f = "", j = [], k = 0; if (a("#" + b.questionId + "> div > table > tbody > tr.optionRow").each(function (c) { var d = [], i = "", l = a(this).attr("data-row-name"); d.push(l); var m = "Row" + (c + 1), n = b.questionId + m; a(`#${n}> td`).each(function (b) { var c = a(this).attr("data-input-name"); if (c) { var d = a("input[name=\"" + (c + m + "Column" + b) + "\"]:checked").val(); i += h(d) } }), i = i.slice(0, i.length - 2), 0 !== i.length && (k += 1), d.push(i), j.push(d); let o = g(i); f += l + ": " + o + ", ", e(b.questionId + l, o) }), b.isRequired) { if (j.length != k) { for (var l, m = 0; m < j.length; m++)l = j[m][0].split(" ")[0], 0 === j[m][1].length ? (a("#" + b.questionId + l).addClass("notValid"), a("#" + b.questionId + "_error").removeClass("hideError"), c = !1, J = !1) : (a("#" + b.questionId + l).removeClass("notValid"), a("#" + b.questionId + "_error").addClass("hideError")); c || toastr.warning("Please select from Question " + b.quesOrder + ".", "WARNING!!") } else { for (var l, m = 0; m < j.length; m++)l = j[m][0].split(" ")[0], a("#" + b.questionId + l).removeClass("notValid"), a("#" + b.questionId + "_error").addClass("hideError"); d(b.questionId, "answer", f), J = !0 } } else if (0 === k) { for (var l, m = 0; m < j.length; m++)l = j[m][0].split(" ")[0], a("#" + b.questionId + l).removeClass("notValid"), a("#" + b.questionId + "_error").addClass("hideError"); d(b.questionId, "answer", f), J = !0 } else if (j.length !== k) { for (var m = 0; m < j.length; m++)if (0 === j[m][1].length) { var l = j[m][0].split(" ")[0]; a("#" + b.questionId + l).addClass("notValid"), a("#" + b.questionId + "_error").removeClass("hideError"), c = !1, J = !1 } c || toastr.warning("Please select from Question " + b.quesOrder + ".", "WARNING!!") } else { for (var l, m = 0; m < j.length; m++)l = j[m][0].split(" ")[0], a("#" + b.questionId + l).removeClass("notValid"), a("#" + b.questionId + "_error").addClass("hideError"); d(b.questionId, "answer", f), J = !0 } return c } function t(b) { var c = "<div class=\"card mb-2 question\" id=\"" + b.id + "\" data-question-id=\"" + b.id + "\" data-question-type=\"" + b.input_type + "\" data-is-required=\"" + b.isRequired + "\" style=\"background-color: #231F20 !important;\"><div class=\"d-flex align-content-start p-2\"><label class=\"form-label\" id=\"" + b.id + "\">" + b.quesOrder + "." + b.ques_descrip + "</label></div><div class=\"mb-2 lrPad\"><input type=\"text\" class=\"form-control customInput\"></div><div id=\"" + b.id + "_error\" class=\"err hideError\"><svg xmlns=\"http://www.w3.org/2000/svg\" class=\"errCaution\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" /></svg><span style=\"padding-left: 3px;\">Please response to this question</span></div></div>"; a("#surveyForm").append(c) } function u(b) { var c = "<div class=\"card mb-2 question\" id=\"" + b.id + "\" data-question-id=\"" + b.id + "\" data-question-type=\"" + b.input_type + "\" data-is-required=\"" + b.isRequired + "\" style=\"background-color: #231F20 !important;\"><div class=\"d-flex align-content-start p-2\"><label class=\"form-label\">" + b.quesOrder + "." + b.ques_descrip + "</label></div><div class=\"mb-2 lrPad\"><textarea class=\"form-control customInput\" ></textarea></div><div id=\"" + b.id + "_error\" class=\"err hideError\"><svg xmlns=\"http://www.w3.org/2000/svg\" class=\"errCaution\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" /></svg><span style=\"padding-left: 3px;\">Please response to this question</span></div></div>"; a("#surveyForm").append(c) } function v(b) { for (var c = "", d = 0; d < b.options.length; d++)c += "<div class=\"d-flex align-content-start mb-1 lrPad\"><input class=\"form-check-input\" type=\"checkbox\" value=\"" + b.options[d].name + "\" id=\"" + b.id + "0" + b.options[d].id + "\" data-id=\"" + b.id + "0" + b.options[d].id + "\" onclick=\"singleSelect(this," + b.id + ")\" name=\"" + b.id + "\"><label class=\"form-check-label lrPad\" for=\"" + b.id + "0" + b.options[d].id + "\">" + b.options[d].name + "</label></div>"; var e = "<div class=\"card mb-3 question singleCheckbox\" id=\"" + b.id + "\" data-question-id=\"" + b.id + "\" data-question-type=\"" + b.input_type + "\"data-is-required=\"" + b.isRequired + "\" style=\"background-color: #231F20 !important;\"><div class=\"d-flex align-content-start p-2\"><label class=\"form-label\" data-is-required=\"" + b.isRequired + "\">" + b.quesOrder + ". " + b.ques_descrip + "</label ></div>" + c + "<div id=\"" + b.id + "_error\" class=\"err hideError\" style=\"padding-top: 3px;\"><svg xmlns=\"http://www.w3.org/2000/svg\" class=\"errCaution\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" /></svg><span style=\"padding-left: 3px;\">Please response to this question</span></div></div>"; a("#surveyForm").append(e) } function w(b) { for (var c = "", d = 0; d < b.options.length; d++)c += "<div class=\"d-flex align-content-start mb-1 lrPad\"><input class=\"form-check-input\" type=\"checkbox\" value=\"" + b.options[d].name + "\" id=\"" + b.id + "0" + b.options[d].id + "\" data-id=\"" + b.id + "0" + b.options[d].id + "\" name=\"" + b.id + "0" + b.options[d].id + "\" onclick=\"multiSelect(" + b.id + "0" + b.options[d].id + ")\"><label class=\"form-check-label lrPad\" for=\"" + b.id + "0" + b.options[d].id + "\">" + b.options[d].name + "</label></div>"; var e = "<div class=\"card mb-3 question\" id=\"" + b.id + "\" data-question-id=\"" + b.id + "\" data-question-type=\"" + b.input_type + "\"data-is-required=\"" + b.isRequired + "\" style=\"background-color: #231F20 !important;\"><div class=\"d-flex align-content-start p-2\"><label class=\"form-label\">" + b.quesOrder + ". " + b.ques_descrip + "</label ></div>" + c + "<div id=\"" + b.id + "_error\" class=\"err hideError\" style=\"padding-top: 3px;\"><svg xmlns=\"http://www.w3.org/2000/svg\" class=\"errCaution\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" /></svg><span style=\"padding-left: 3px;\">Please response to this question</span></div></div>"; a("#surveyForm").append(e) } function x(b) { for (var c = "", d = 0; d < b.options.length; d++)c += "<div class=\"form-check d-flex align-content-start mb-1 lrPad checkboxPad\"><input class=\"form-check-input\" type=\"radio\" name=\"" + b.id + "\" id=\"" + b.id + "0" + b.options[d].id + "\" value=\"" + b.options[d].name + "\"><label class=\"form-check-label lrPad\" for=\"" + b.id + "0" + b.options[d].id + "\">" + b.options[d].name + "</label></div >"; var e = "<div class=\"card mb-3 question\" id=\"" + b.id + "\" data-question-id=\"" + b.id + "\" data-question-type=\"" + b.input_type + "\"data-is-required=\"" + b.isRequired + "\" style=\"background-color: #231F20 !important;\"><div class=\"d-flex align-content-start p-2\"><label class=\"form-label\">" + b.quesOrder + ". " + b.ques_descrip + "</label></div>" + c + "<div id=\"" + b.id + "_error\" class=\"err hideError\" style=\"padding-top: 3px;\"><svg xmlns=\"http://www.w3.org/2000/svg\" class=\"errCaution\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" /></svg><span style=\"padding-left: 3px;\">Please response to this question</span></div></div>"; a("#surveyForm").append(e) } function y(b) { var c = "<div class=\"card mb-3 question\" id=\"" + b.id + "\" data-question-id=\"" + b.id + "\" data-question-type=\"" + b.input_type + "\" data-is-required=\"" + b.isRequired + "\" style=\"background-color: #231F20 !important;\"><div class=\"d-flex align-content-start p-2\"><label class=\"form-label\">" + b.quesOrder + "." + b.ques_descrip + "</label></div><div class=\"d-flex\"><div class=\"form-floating mb-3 col-md-3 lrPad flex\"><input type=\"text\" class=\"form-control\" id=\"" + b.id + "date\"  value=\"\" class=\"calendar\" readonly/><label for=\"" + b.id + "date\" style=\"padding-left: 2.2rem; color: #000000;\">Date</label></div><div class=\"form-floating mb-3 col-md-3 lrPad\"><input type=\"text\" class=\"form-control\" id=\"" + b.id + "time\"><label for=\"" + b.id + "time\" style=\"padding-left: 2.2rem; color: #000000;\">Time</label></div></div><div id=\"" + b.id + "_error\" class=\"err hideError\"><svg xmlns=\"http://www.w3.org/2000/svg\" class=\"errCaution\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" /></svg><span style=\"padding-left: 3px;\">Please response to this question</span></div></div>"; a("#surveyForm").append(c); let d = b.id + "date"; a("#" + d).datepicker({ dateFormat: "dd-M-yy", setDate: new Date }), a("#" + b.id + "time").timepicker({ timeFormat: "g:i a", interval: 5, minTime: "00", maxTime: "11:59 pm", defaultTime: "00", startTime: "00:00", dynamic: !1, dropdown: !0, scrollbar: !0 }) } function z(b) { for (var c = "", d = 0; d < b.options.length; d++)c += "<option class=\"" + b.id + "\" id=\"" + b.id + b.options[d].name + "\" value=\"" + b.options[d].name + "\" name=\"" + b.options[d].name + "\">" + b.options[d].name + "</option>"; var e = "<div class=\"card mb-3 question\" id=\"" + b.id + "\" data-question-id=\"" + b.id + "\" data-question-type=\"" + b.input_type + "\" data-is-required=\"" + b.isRequired + "\" style=\"background-color: #231F20 !important;\"><div class=\"d-flex align-content-start p-2\"><label class=\"form-label\">" + b.quesOrder + ". " + b.ques_descrip + "</label></div><div class=\"" + b.id + "selectedVal\"></div><div class=\"input-group mb-3 lrPad\"><select class=\"form-select\" id=\"ques" + b.id + "\" onchange=\"optionSelected(this," + b.id + ")\"><option value=\"\">Plese select one option from below</option>" + c + "</select></div><div id=\"" + b.id + "_error\" class=\"err hideError\" style=\"padding-top: 3px;\"><svg xmlns=\"http://www.w3.org/2000/svg\" class=\"errCaution\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" /></svg><span style=\"padding-left: 3px;\">Please response to this question</span></div></div>"; a("#surveyForm").append(e) } function A(b) { for (var c = "", d = "", e = b.linear_start_value; e <= b.linear_end_value; e++)c += "<td style=\"border: none;min-width:2rem;text-align:center;overflow-wrap: break-word; color: #FFFFFF !important;\">" + e + "</td>", d += "<td style=\"border: none;min-width:2rem;text-align:center;\"><input class=\"form-check-input\" type=\"radio\" id=\"" + b.id + "_" + e + "\" value=\"" + e + "\" name=\"" + b.id + "\"></td>"; var f = "<div class=\"card mb-2 question\" id=\"" + b.id + "\" data-question-id=\"" + b.id + "\" data-question-type=\"" + b.input_type + "\"data-is-required=\"" + b.isRequired + "\" style=\"background-color: #231F20 !important;\"><div class=\"d-flex align-content-start p-2\"><label class=\"form-label\">" + b.quesOrder + ". " + b.ques_descrip + "</label></div><div class=\"lrPad\" style=\"overflow-x: scroll !important;scrollbar-width: thin;overflow: visible;\"><table class=\"table\"><tbody><tr><td style=\"border: none;\"></td>" + c + "<td style=\"border: none;\"></td></tr><tr><td style=\"border: none;min-width:2rem;text-align:right;overflow-wrap: break-word; color: #FFFFFF !important;\">" + b.linear_start_level_txt + "</td>" + d + "<td style=\"border: none;min-width:2rem;text-align:left;overflow-wrap: break-word; color: #FFFFFF !important;\">" + b.linear_end_level_txt + "</td></tr></tbody></table></div><div id=\"" + b.id + "_error\" class=\"err hideError\" style=\"padding-top: 3px;\"><svg xmlns=\"http://www.w3.org/2000/svg\" class=\"errCaution\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" /></svg><span style=\"padding-left: 3px;\">Please response to this question</span></div></div>"; a("#surveyForm").append(f) } function B(b) { for (var c = "", d = "", e = 0; e < b.columns.length; e++)c += "<td style=\"border: none;min-width: 2rem;text-align: center;overflow-wrap: break-word !important; color: #FFFFFF !important;\" class=\"" + b.columns[e].id + "\">" + b.columns[e].name + "</td>"; for (var e = 0; e < b.rows.length; e++) { d += "<tr data-row-name=\"" + b.rows[e].name + "\" id=\"" + b.id + "Row" + (e + 1) + "\" class=\"optionRow\"><td style=\"border: none;min-width: 2rem;text-align: left;overflow-wrap: break-word; color: #FFFFFF !important;\">" + b.rows[e].name + "</td>"; for (var f = 0; f < b.columns.length; f++)d += "<td style=\"border: none;min-width: 2rem;text-align: center;overflow-wrap: break-word;\" class=\"" + b.columns[f].id + "\"><input class=\"form-check-input " + b.columns[f].id + "\" type=\"radio\" value=\"" + b.columns[f].name + "\" name=\"" + b.rows[e].name + "\"></td>"; d += "</tr>" } var g = "<div class=\"card mb-2 question\" id=\"" + b.id + "\" data-question-id=\"" + b.id + "\" data-question-type=\"" + b.input_type + "\"data-is-required=\"" + b.isRequired + "\" style=\"background-color: #231F20 !important;\"><div class=\"d-flex align-content-start p-2\"><label class=\"form-label\">" + b.quesOrder + ". " + b.ques_descrip + "</label></div><div class=\"lrPad\" style=\"overflow-x: scroll !important;scrollbar-width: thin;overflow: visible;\"><table class=\"table\"><tbody><tr><td style=\"border: none;\"></td>" + c + "</tr>" + d + "</tbody></table></div><div id=\"" + b.id + "_error\" class=\"err hideError\" style=\"padding-top: 3px;\"><svg xmlns=\"http://www.w3.org/2000/svg\" class=\"errCaution\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" /></svg><span style=\"padding-left: 3px;\">This question requires one response per row</span></div></div>"; a("#surveyForm").append(g) } function C(b) { for (var c = "", d = "", e = 0; e < b.columns.length; e++)c += "<td style=\"border: none; min-width: 2rem;text-align: center;overflow-wrap: break-word; color: #FFFFFF !important;\" class=\"" + b.columns[e].id + "\">" + b.columns[e].name + "</td>"; for (var f, e = 0; e < b.rows.length; e++) { f = "Row" + (e + 1), d += "<tr data-row-name=\"" + b.rows[e].name + "\" id=\"" + b.id + f + "\" class=\"optionRow\"><td style=\"border: none;min-width: 3rem;text-align: left;overflow-wrap: break-word; color: #FFFFFF !important;\">" + b.rows[e].name + "</td>"; for (var g = 0; g < b.columns.length; g++)d += "<td style=\"border: none;min-width: 2rem;text-align: center;overflow-wrap: break-word;\" data-input-name=\"" + b.columns[g].id + "\"><input id=\"" + b.columns[g].id + "\" class=\"form-check-input\" type=\"checkbox\" value=\"" + b.columns[g].name + "\" name=\"" + b.columns[g].id + f + "Column" + (g + 1) + "\"></td>"; d += "</tr>" } var h = "<div class=\"card mb-2 question\" id=\"" + b.id + "\" data-question-id=\"" + b.id + "\" data-question-type=\"" + b.input_type + "\"data-is-required=\"" + b.isRequired + "\" style=\"background-color: #231F20 !important;\"><div class=\"d-flex align-content-start p-2\"><label class=\"form-label\">" + b.quesOrder + ". " + b.ques_descrip + "</label></div><div class=\"lrPad\" style=\"overflow-x: scroll !important;scrollbar-width: thin;overflow: visible;\"><table class=\"table\"><tbody><tr class=col-1><td style=\"border: none;\"></td>" + c + "</tr>" + d + "</tbody></table></div><div id=\"" + b.id + "_error\" class=\"err hideError\" style=\"padding-top: 3px;\"><svg xmlns=\"http://www.w3.org/2000/svg\" class=\"errCaution\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" /></svg><span style=\"padding-left: 3px;\">This question requires one response per row</span></div></div>"; a("#surveyForm").append(h) } var D = a("#rtCode").val(), E = a("#surveyId").val(), F = a("#isValid").val(), G = parseInt(a("#fileUploadLimit").val()), H = {}, I = [], J = !1; const K = new Map, L = new Map; "1" == F ? function () { a.ajax({ url: "GetSurveyQuestionsByID", data: { id: E, rtCode: D }, dataType: "json", type: "GET", success: function (c) { a("#surveyTitle").hide(), c.isError ? a("#surveyBody").append("<center><h2>" + c.message + "</h2></center>") : (H = c.data, b()) }, error: function () { } }) }() : "2" == F ? a("#surveyBody").append("<center style=\"color: red;\"><h2>This Survey is now Inactive.</h2></center>") : "3" == F ? a("#surveyBody").append("<center style=\"color: red;\"><h2>This Survey is already expired.</h2></center>") : "4" == F ? a("#surveyBody").append("<center style=\"color: green;\"><h2>You already responded in this Survey.</h2></center>") : a("#surveyBody").append("<center style=\"color: red;\"><h2>Something went wrong!</h2></center>"), a("body").on("click", "#submitSurvey", function (b) { if (b.preventDefault(), I = [], 0 < K.size) { I = []; for (let [a, b] of K) { var c = !0; switch (b.questionType) { case "text": c = i(b), I.push(b); break; case "paragraph": c = j(b), I.push(b); break; case "checkbox-single-select": c = k(b), I.push(b); break; case "checkbox-multiple-select": c = l(b), I.push(b); break; case "radio": c = m(b), I.push(b); break; case "date-time": c = n(b), I.push(b); break; case "file": c = o(b), I.push(b); break; case "dropdown": c = p(b), I.push(b); break; case "linear-scale": c = q(b), I.push(b); break; case "multiple-choice-grid": c = r(b); var d = f(a); b.qnGridAnswers = d, I.push(b); break; case "checkbox-grid": c = s(b); var d = f(a); b.qnGridAnswers = d, I.push(b); }if (!c) break } } if (J) { var e = { retailerCode: D, surveyAnswers: JSON.stringify(I) }; a.ajax({ url: "SubmitSurveyResponse", type: "POST", data: e, contentType: "application/x-www-form-urlencoded; charset=UTF-8", dataType: "json", success: function (b) { if (!b.isError) { var c = a("#successModalDark"); c.modal("show") } else return void toastr.error(b.message, "ERROR!!") }, error: function (a) { console.log(a) } }) } }), a("body").on("click", "#btnOk", function () { a("#rtCode").val(""), a("#surveyId").val(""), a("#isValid").val("0"), a("#fileUploadLimit").val("0"), H = {}, I = [], J = !1, K.clear(), L.clear(), a("#successModalDark").modal("hide"), window.location.reload(!0) }) }) })(jQuery);